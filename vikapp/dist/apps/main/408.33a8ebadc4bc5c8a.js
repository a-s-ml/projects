/*! For license information please see 408.33a8ebadc4bc5c8a.js.LICENSE.txt */
(self.webpackChunkmain=self.webpackChunkmain||[]).push([[408],{408:(e,t,r)=>{r.r(t);var a=r(136),i=r(32),s=r(640),o=r(796);const n=(0,o.createSlice)({name:"slide",initialState:{show:!1,user:0,group:0n,patch:["main"],page:"main"},reducers:{showSlide:(e,t)=>{e.show=t.payload},userSlide:(e,t)=>{e.user=t.payload},groupSlide:(e,t)=>{e.group=t.payload},addPatchSlide:(e,t)=>{e.patch.push(t.payload),e.page=e.patch[e.patch.length-1]},removePatchSlide:(e,t)=>{e.patch=e.patch.filter((e=>e!==t.payload)),e.page=e.patch[e.patch.length-1]}}}),{showSlide:u,userSlide:l,groupSlide:d,addPatchSlide:c,removePatchSlide:p}=n.actions,y=e=>e.slide.show,h=e=>e.slide.user,g=e=>e.slide.patch,m=n.reducer,w=(0,o.createSlice)({name:"type",initialState:{all:[]},reducers:{getAllType:(e,t)=>{e.all=t.payload}}}),{getAllType:T}=w.actions,v=w.reducer,S=(0,o.createSlice)({name:"period",initialState:{all:[]},reducers:{getAllPeriod:(e,t)=>{e.all=t.payload}}}),{getAllPeriod:f}=S.actions,x=S.reducer,Q=(0,o.createSlice)({name:"question",initialState:{text:"",category:0,answer1:"",answer2:"",answer3:"",answer4:"",answerright:0},reducers:{getQuestionText:(e,t)=>{e.text=t.payload},getQuestionCategory:(e,t)=>{e.category=t.payload},getQuestionAnswerOne:(e,t)=>{e.answer1=t.payload},getQuestionAnswerTwo:(e,t)=>{e.answer2=t.payload},getQuestionAnswerThree:(e,t)=>{e.answer3=t.payload},getQuestionAnswerFour:(e,t)=>{e.answer4=t.payload},getQuestionAnswerright:(e,t)=>{e.answerright=t.payload},getQuestionDefault:(e,t)=>{e.text="",e.category=0,e.answer1="",e.answer2="",e.answer3="",e.answer4="",e.answerright=0}}}),{getQuestionText:A,getQuestionCategory:j,getQuestionAnswerOne:q,getQuestionAnswerTwo:_,getQuestionAnswerThree:C,getQuestionAnswerFour:G,getQuestionAnswerright:b,getQuestionDefault:P}=Q.actions,k=Q.reducer,E=(0,o.createSlice)({name:"category",initialState:{all:[]},reducers:{getAllCategories:(e,t)=>{e.all=t.payload}}}),{getAllCategories:O}=E.actions,I=E.reducer;var R=r(868),D=r(392);const N=(0,o.configureStore)({reducer:{[R.r.reducerPath]:R.r.reducer,slide:m,category:I,question:k,type:v,period:x},middleware:e=>e().concat(R.r.middleware)});(0,D.eE)(N.dispatch);const U=s.useSelector,$=R.r.injectEndpoints({endpoints:e=>({getType:e.query({query:()=>({url:"question-type"})}),getTypeById:e.query({query:e=>({url:`question-type/${e}`}),providesTags:["TypeGroup"]}),updateTypeGroups:e.mutation({query:({chat:e,question_type:t})=>({url:`/chat/updateTypeChat/${e}`,method:"PATCH",body:{question_type:t}}),invalidatesTags:["TypeGroup"]})})}),{useGetTypeQuery:B,useGetTypeByIdQuery:F,useUpdateTypeGroupsMutation:L}=$;var H=r(424);const M=R.r.injectEndpoints({endpoints:e=>({getTime:e.query({query:()=>({url:"time"})}),getTimeById:e.query({query:e=>({url:`time/${e}`}),providesTags:["TimeGroup"]}),updateTimeGroups:e.mutation({query:({chat:e,time:t})=>({url:`/chat/updateTimeChat/${e}`,method:"PATCH",body:{time:t}}),invalidatesTags:["TimeGroup"]})})}),{useGetTimeQuery:V,useGetTimeByIdQuery:W,useUpdateTimeGroupsMutation:z}=M;var K=r(0);function Y({children:e}){return(0,K.jsx)("div",{className:"container divide-y divide-[var(--tg-theme-hint-color)] overflow-hidden min-h-screen rounded-lg bg-[var(--tg-theme-bg-color)]",children:e})}function J({children:e}){return(0,K.jsx)("div",{className:"h-1/6 px-4 py-5",children:e})}function X({children:e}){return(0,K.jsx)("div",{className:"px-4 py-5 overflow-y-auto",children:e})}function Z({children:e}){return(0,K.jsx)("div",{className:"h-1/6 px-4 py-4",children:e})}const ee=a.lazy((()=>r.e(916).then(r.t.bind(r,916,23)))),te=function(){const e=window.Telegram.WebApp,t=(0,s.useDispatch)(),r=U(h),{isLoading:i,isError:o,data:n,isSuccess:u}=(0,R.y)(e.initData,{skip:0!==r});console.log(e);const{data:d,isSuccess:c}=B(""),{data:p,isSuccess:m}=V(""),{data:w,isSuccess:v}=(0,H.useGetCategoryQuery)("");u&&t(l(n.UserData.user.id)),c&&t(T(d)),m&&t(f(p)),v&&t(O(w)),U(g),console.log(U(N.getState));const S=U(y);return console.log(S),(0,K.jsx)(a.Suspense,{fallback:null,children:(0,K.jsxs)(Y,{children:[(0,K.jsx)(J,{children:(0,K.jsx)("p",{children:"Header"})}),(0,K.jsx)(X,{children:(0,K.jsx)(ee,{})}),(0,K.jsx)(Z,{children:(0,K.jsx)("p",{children:"Footer"})})]})})};i.C(document.getElementById("root")).render((0,K.jsx)(s.Provider,{store:N,children:(0,K.jsx)(a.StrictMode,{children:(0,K.jsx)(te,{})})}))},868:(e,t,r)=>{r.d(t,{r:()=>o,y:()=>n});var a=r(392),i=r(280);const s=(0,a.c9)((0,a._)({baseUrl:"https://api80q.ru/viktorinaonlinebot/"}),{maxRetries:5}),o=(0,i.KS)({reducerPath:"vikApi",refetchOnFocus:!0,baseQuery:s,tagTypes:["TypeGroup","TimeGroup","CategoryGroup","Validate","CountAvailableQuestionGroup","CountPublishedQuestionGroup"],endpoints:e=>({validate:e.query({query:e=>({url:`chat/validateUser/${e}`}),providesTags:["Validate"]})})}),{useValidateQuery:n}=o},32:(e,t,r)=>{var a=r(27);t.C=a.createRoot,a.hydrateRoot},488:(e,t,r)=>{var a=r(136),i=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var a,u={},l=null,d=null;for(a in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,a)&&!n.hasOwnProperty(a)&&(u[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===u[a]&&(u[a]=t[a]);return{$$typeof:i,type:e,key:l,ref:d,props:u,_owner:o.current}}t.jsx=u,t.jsxs=u},0:(e,t,r)=>{e.exports=r(488)}}]);