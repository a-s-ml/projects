/*! For license information please see 388.94e3c5ca863e47c8.js.LICENSE.txt */
(self.webpackChunkmain=self.webpackChunkmain||[]).push([[388,868],{388:(e,t,r)=>{r.r(t);var a=r(136),o=r(32),i=r(640),u=r(796);const s=(0,u.createSlice)({name:"slide",initialState:{show:!1,user:0,group:0n,patch:["main"],page:"main"},reducers:{showSlide:(e,t)=>{e.show=t.payload},userSlide:(e,t)=>{e.user=t.payload},groupSlide:(e,t)=>{e.group=t.payload},addPatchSlide:(e,t)=>{e.patch.push(t.payload),e.page=e.patch[e.patch.length-1]},removePatchSlide:(e,t)=>{e.patch=e.patch.filter((e=>e!==t.payload)),e.page=e.patch[e.patch.length-1]}}}),{showSlide:n,userSlide:l,groupSlide:d,addPatchSlide:p,removePatchSlide:y}=s.actions,c=e=>e.slide.show,g=e=>e.slide.user,T=e=>e.slide.patch,h=s.reducer,A=(0,u.createSlice)({name:"type",initialState:{all:[]},reducers:{getAllType:(e,t)=>{e.all=t.payload}}}),{getAllType:S}=A.actions,_=A.reducer,m=(0,u.createSlice)({name:"period",initialState:{all:[]},reducers:{getAllPeriod:(e,t)=>{e.all=t.payload}}}),{getAllPeriod:w}=m.actions,C=m.reducer,v=(0,u.createSlice)({name:"question",initialState:{text:"",category:0,answer1:"",answer2:"",answer3:"",answer4:"",answerright:0},reducers:{getQuestionText:(e,t)=>{e.text=t.payload},getQuestionCategory:(e,t)=>{e.category=t.payload},getQuestionAnswerOne:(e,t)=>{e.answer1=t.payload},getQuestionAnswerTwo:(e,t)=>{e.answer2=t.payload},getQuestionAnswerThree:(e,t)=>{e.answer3=t.payload},getQuestionAnswerFour:(e,t)=>{e.answer4=t.payload},getQuestionAnswerright:(e,t)=>{e.answerright=t.payload},getQuestionDefault:(e,t)=>{e.text="",e.category=0,e.answer1="",e.answer2="",e.answer3="",e.answer4="",e.answerright=0}}}),{getQuestionText:G,getQuestionCategory:Q,getQuestionAnswerOne:q,getQuestionAnswerTwo:E,getQuestionAnswerThree:f,getQuestionAnswerFour:O,getQuestionAnswerright:P,getQuestionDefault:R}=v.actions,b=v.reducer,k=(0,u.createSlice)({name:"category",initialState:{all:[]},reducers:{getAllCategories:(e,t)=>{e.all=t.payload}}}),{getAllCategories:I}=k.actions,N=k.reducer;var x=r(268),D=r(392);const L=(0,u.configureStore)({reducer:{[x.vikApi.reducerPath]:x.vikApi.reducer,slide:h,category:N,question:b,type:_,period:C},middleware:e=>e().concat(x.vikApi.middleware)});(0,D.eE)(L.dispatch);const U=i.useSelector;var j=r(868);const B=j.vikApi.injectEndpoints({endpoints:e=>({getType:e.query({query:()=>({url:"question-type"})}),getTypeById:e.query({query:e=>({url:`question-type/${e}`}),providesTags:["TypeGroup"]}),updateTypeGroups:e.mutation({query:({chat:e,question_type:t})=>({url:`/chat/updateTypeChat/${e}`,method:"PATCH",body:{question_type:t}}),invalidatesTags:["TypeGroup"]})})}),{useGetTypeQuery:$,useGetTypeByIdQuery:X,useUpdateTypeGroupsMutation:F}=B,K=j.vikApi.injectEndpoints({endpoints:e=>({countCategory:e.query({query:e=>({url:`category/${e}`})}),getCategory:e.query({query:()=>({url:"category"})}),getCategoryById:e.query({query:e=>({url:`category/${e}`})}),getCategoryGroups:e.query({query:e=>({url:`chat-category/${e}`}),providesTags:["CategoryGroup"]}),addCategoryGroups:e.mutation({query:({chat:e,category:t})=>({url:"/chat-category",method:"POST",body:{chat:e,category:t}}),invalidatesTags:["CategoryGroup","CountAvailableQuestionGroup"]}),deleteCategoryGroups:e.mutation({query:({chat:e,category:t})=>({url:"/chat-category",method:"DELETE",body:{chat:e,category:t}}),invalidatesTags:["CategoryGroup","CountAvailableQuestionGroup"]})})}),{useCountCategoryQuery:M,useGetCategoryQuery:V,useGetCategoryGroupsQuery:H,useAddCategoryGroupsMutation:W,useDeleteCategoryGroupsMutation:z,useGetCategoryByIdQuery:J}=K,Y=j.vikApi.injectEndpoints({endpoints:e=>({getTime:e.query({query:()=>({url:"time"})}),getTimeById:e.query({query:e=>({url:`time/${e}`}),providesTags:["TimeGroup"]}),updateTimeGroups:e.mutation({query:({chat:e,time:t})=>({url:`/chat/updateTimeChat/${e}`,method:"PATCH",body:{time:t}}),invalidatesTags:["TimeGroup"]})})}),{useGetTimeQuery:Z,useGetTimeByIdQuery:ee,useUpdateTimeGroupsMutation:te}=Y;var re=r(0);const ae=a.lazy((()=>r.e(916).then(r.t.bind(r,916,23)))),oe=function(){const e=window.Telegram.WebApp,t=(0,i.useDispatch)(),r=U(g),{isLoading:o,isError:u,data:s,isSuccess:n}=(0,x.useValidateQuery)(e.initData,{skip:0!==r});console.log(e);const{data:d,isSuccess:p}=$(""),{data:y,isSuccess:h}=Z(""),{data:A,isSuccess:_}=V("");n&&t(l(s.UserData.user.id)),p&&t(S(d)),h&&t(w(y)),_&&t(I(A)),U(T),console.log(U(L.getState));const m=U(c);return console.log(m),(0,re.jsx)(a.Suspense,{fallback:null,children:(0,re.jsx)(ae,{})})};o.C(document.getElementById("root")).render((0,re.jsx)(i.Provider,{store:L,children:(0,re.jsx)(a.StrictMode,{children:(0,re.jsx)(oe,{})})}))},868:(e,t,r)=>{r.r(t),r.d(t,{useValidateQuery:()=>s,vikApi:()=>u});var a=r(392),o=r(280);const i=(0,a.c9)((0,a._)({baseUrl:{NX_BUILD_LIBS_FROM_SOURCE:"true",NX_BUILD_TARGET:"main:build:production",NX_CLI_SET:"true",NX_LOAD_DOT_ENV_FILES:"true",NX_TASK_HASH:"14807069077413204601",NX_TASK_TARGET_CONFIGURATION:"production",NX_TASK_TARGET_PROJECT:"main",NX_TASK_TARGET_TARGET:"build",NX_WORKSPACE_ROOT:"C:\\git\\projects\\vikapp"}.REACT_APP_APIURL}),{maxRetries:5}),u=(0,o.KS)({reducerPath:"vikApi",refetchOnFocus:!0,baseQuery:i,tagTypes:["TypeGroup","TimeGroup","CategoryGroup","Validate","CountAvailableQuestionGroup","CountPublishedQuestionGroup"],endpoints:e=>({validate:e.query({query:e=>({url:`chat/validateUser/${e}`}),providesTags:["Validate"]})})}),{useValidateQuery:s}=u},32:(e,t,r)=>{var a=r(408);t.C=a.createRoot,a.hydrateRoot},488:(e,t,r)=>{var a=r(136),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),u=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var a,n={},l=null,d=null;for(a in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!s.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:o,type:e,key:l,ref:d,props:n,_owner:u.current}}},0:(e,t,r)=>{e.exports=r(488)}}]);