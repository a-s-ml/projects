/*! For license information please see 388.2369df32918726e6.js.LICENSE.txt */
(self.webpackChunkmain=self.webpackChunkmain||[]).push([[388,868],{388:(e,t,r)=>{r.r(t);var a=r(136),o=r(32),i=r(640),s=r(796);const u=(0,s.createSlice)({name:"slide",initialState:{show:!1,user:0,group:0n,patch:["main"],page:"main"},reducers:{showSlide:(e,t)=>{e.show=t.payload},userSlide:(e,t)=>{e.user=t.payload},groupSlide:(e,t)=>{e.group=t.payload},addPatchSlide:(e,t)=>{e.patch.push(t.payload),e.page=e.patch[e.patch.length-1]},removePatchSlide:(e,t)=>{e.patch=e.patch.filter((e=>e!==t.payload)),e.page=e.patch[e.patch.length-1]}}}),{showSlide:n,userSlide:l,groupSlide:d,addPatchSlide:y,removePatchSlide:p}=u.actions,c=e=>e.slide.show,g=e=>e.slide.user,h=e=>e.slide.patch,T=u.reducer,m=(0,s.createSlice)({name:"type",initialState:{all:[]},reducers:{getAllType:(e,t)=>{e.all=t.payload}}}),{getAllType:w}=m.actions,v=m.reducer,S=(0,s.createSlice)({name:"period",initialState:{all:[]},reducers:{getAllPeriod:(e,t)=>{e.all=t.payload}}}),{getAllPeriod:C}=S.actions,A=S.reducer,Q=(0,s.createSlice)({name:"question",initialState:{text:"",category:0,answer1:"",answer2:"",answer3:"",answer4:"",answerright:0},reducers:{getQuestionText:(e,t)=>{e.text=t.payload},getQuestionCategory:(e,t)=>{e.category=t.payload},getQuestionAnswerOne:(e,t)=>{e.answer1=t.payload},getQuestionAnswerTwo:(e,t)=>{e.answer2=t.payload},getQuestionAnswerThree:(e,t)=>{e.answer3=t.payload},getQuestionAnswerFour:(e,t)=>{e.answer4=t.payload},getQuestionAnswerright:(e,t)=>{e.answerright=t.payload},getQuestionDefault:(e,t)=>{e.text="",e.category=0,e.answer1="",e.answer2="",e.answer3="",e.answer4="",e.answerright=0}}}),{getQuestionText:G,getQuestionCategory:q,getQuestionAnswerOne:f,getQuestionAnswerTwo:b,getQuestionAnswerThree:k,getQuestionAnswerFour:_,getQuestionAnswerright:P,getQuestionDefault:E}=Q.actions,x=Q.reducer,O=(0,s.createSlice)({name:"category",initialState:{all:[]},reducers:{getAllCategories:(e,t)=>{e.all=t.payload}}}),{getAllCategories:j}=O.actions,I=O.reducer;var $=r(268),D=r(392);const B=(0,s.configureStore)({reducer:{[$.vikApi.reducerPath]:$.vikApi.reducer,slide:T,category:I,question:x,type:v,period:A},middleware:e=>e().concat($.vikApi.middleware)});(0,D.eE)(B.dispatch);const R=i.useSelector;var U=r(868);const L=U.vikApi.injectEndpoints({endpoints:e=>({getType:e.query({query:()=>({url:"question-type"})}),getTypeById:e.query({query:e=>({url:`question-type/${e}`}),providesTags:["TypeGroup"]}),updateTypeGroups:e.mutation({query:({chat:e,question_type:t})=>({url:`/chat/updateTypeChat/${e}`,method:"PATCH",body:{question_type:t}}),invalidatesTags:["TypeGroup"]})})}),{useGetTypeQuery:M,useGetTypeByIdQuery:V,useUpdateTypeGroupsMutation:F}=L,N=U.vikApi.injectEndpoints({endpoints:e=>({countCategory:e.query({query:e=>({url:`category/${e}`})}),getCategory:e.query({query:()=>({url:"category"})}),getCategoryById:e.query({query:e=>({url:`category/${e}`})}),getCategoryGroups:e.query({query:e=>({url:`chat-category/${e}`}),providesTags:["CategoryGroup"]}),addCategoryGroups:e.mutation({query:({chat:e,category:t})=>({url:"/chat-category",method:"POST",body:{chat:e,category:t}}),invalidatesTags:["CategoryGroup","CountAvailableQuestionGroup"]}),deleteCategoryGroups:e.mutation({query:({chat:e,category:t})=>({url:"/chat-category",method:"DELETE",body:{chat:e,category:t}}),invalidatesTags:["CategoryGroup","CountAvailableQuestionGroup"]})})}),{useCountCategoryQuery:H,useGetCategoryQuery:W,useGetCategoryGroupsQuery:z,useAddCategoryGroupsMutation:K,useDeleteCategoryGroupsMutation:Y,useGetCategoryByIdQuery:J}=N,X=U.vikApi.injectEndpoints({endpoints:e=>({getTime:e.query({query:()=>({url:"time"})}),getTimeById:e.query({query:e=>({url:`time/${e}`}),providesTags:["TimeGroup"]}),updateTimeGroups:e.mutation({query:({chat:e,time:t})=>({url:`/chat/updateTimeChat/${e}`,method:"PATCH",body:{time:t}}),invalidatesTags:["TimeGroup"]})})}),{useGetTimeQuery:Z,useGetTimeByIdQuery:ee,useUpdateTimeGroupsMutation:te}=X;var re=r(0);const ae=a.lazy((()=>r.e(916).then(r.t.bind(r,916,23)))),oe=function(){const e=window.Telegram.WebApp,t=(0,i.useDispatch)(),r=R(g),{isLoading:o,isError:s,data:u,isSuccess:n}=(0,$.useValidateQuery)(e.initData,{skip:0!==r});console.log(e);const{data:d,isSuccess:y}=M(""),{data:p,isSuccess:T}=Z(""),{data:m,isSuccess:v}=W("");n&&t(l(u.UserData.user.id)),y&&t(w(d)),T&&t(C(p)),v&&t(j(m)),R(h),console.log(R(B.getState));const S=R(c);return console.log(S),(0,re.jsx)(a.Suspense,{fallback:null,children:(0,re.jsx)(ae,{})})};o.C(document.getElementById("root")).render((0,re.jsx)(i.Provider,{store:B,children:(0,re.jsx)(a.StrictMode,{children:(0,re.jsx)(oe,{})})}))},868:(e,t,r)=>{r.r(t),r.d(t,{useValidateQuery:()=>u,vikApi:()=>s});var a=r(392),o=r(280);const i=(0,a.c9)((0,a._)({baseUrl:"https://api80q.ru/viktorinaonlinebot/"}),{maxRetries:5}),s=(0,o.KS)({reducerPath:"vikApi",refetchOnFocus:!0,baseQuery:i,tagTypes:["TypeGroup","TimeGroup","CategoryGroup","Validate","CountAvailableQuestionGroup","CountPublishedQuestionGroup"],endpoints:e=>({validate:e.query({query:e=>({url:`chat/validateUser/${e}`}),providesTags:["Validate"]})})}),{useValidateQuery:u}=s},32:(e,t,r)=>{var a=r(408);t.C=a.createRoot,a.hydrateRoot},488:(e,t,r)=>{var a=r(136),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var a,n={},l=null,d=null;for(a in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!u.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:o,type:e,key:l,ref:d,props:n,_owner:s.current}}},0:(e,t,r)=>{e.exports=r(488)}}]);