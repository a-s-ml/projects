/*! For license information please see 460.ac052be7d3bf51a7.js.LICENSE.txt */
(self.webpackChunkmain=self.webpackChunkmain||[]).push([[460],{460:(e,t,r)=>{r.r(t);var a=r(136),i=r(32),s=r(640),n=r(796);const o=(0,n.createSlice)({name:"slide",initialState:{show:!1,user:0,group:0n,patch:["main"],page:"main"},reducers:{showSlide:(e,t)=>{e.show=t.payload},userSlide:(e,t)=>{e.user=t.payload},groupSlide:(e,t)=>{e.group=t.payload},addPatchSlide:(e,t)=>{e.patch.push(t.payload),e.page=e.patch[e.patch.length-1]},removePatchSlide:(e,t)=>{e.patch=e.patch.filter((e=>e!==t.payload)),e.page=e.patch[e.patch.length-1]}}}),{showSlide:l,userSlide:u,groupSlide:d,addPatchSlide:c,removePatchSlide:p}=o.actions,y=e=>e.slide.show,h=e=>e.slide.user,g=e=>e.slide.patch,m=o.reducer,w=(0,n.createSlice)({name:"type",initialState:{all:[]},reducers:{getAllType:(e,t)=>{e.all=t.payload}}}),{getAllType:v}=w.actions,T=w.reducer,x=(0,n.createSlice)({name:"period",initialState:{all:[]},reducers:{getAllPeriod:(e,t)=>{e.all=t.payload}}}),{getAllPeriod:f}=x.actions,S=x.reducer,j=(0,n.createSlice)({name:"question",initialState:{text:"",category:0,answer1:"",answer2:"",answer3:"",answer4:"",answerright:0},reducers:{getQuestionText:(e,t)=>{e.text=t.payload},getQuestionCategory:(e,t)=>{e.category=t.payload},getQuestionAnswerOne:(e,t)=>{e.answer1=t.payload},getQuestionAnswerTwo:(e,t)=>{e.answer2=t.payload},getQuestionAnswerThree:(e,t)=>{e.answer3=t.payload},getQuestionAnswerFour:(e,t)=>{e.answer4=t.payload},getQuestionAnswerright:(e,t)=>{e.answerright=t.payload},getQuestionDefault:(e,t)=>{e.text="",e.category=0,e.answer1="",e.answer2="",e.answer3="",e.answer4="",e.answerright=0}}}),{getQuestionText:Q,getQuestionCategory:A,getQuestionAnswerOne:C,getQuestionAnswerTwo:q,getQuestionAnswerThree:_,getQuestionAnswerFour:b,getQuestionAnswerright:G,getQuestionDefault:P}=j.actions,k=j.reducer,E=(0,n.createSlice)({name:"category",initialState:{all:[]},reducers:{getAllCategories:(e,t)=>{e.all=t.payload}}}),{getAllCategories:F}=E.actions,O=E.reducer;var N=r(868),D=r(392);const R=(0,n.configureStore)({reducer:{[N.r.reducerPath]:N.r.reducer,slide:m,category:O,question:k,type:T,period:S},middleware:e=>e().concat(N.r.middleware)});(0,D.eE)(R.dispatch);const I=s.useSelector,U=N.r.injectEndpoints({endpoints:e=>({getType:e.query({query:()=>({url:"question-type"})}),getTypeById:e.query({query:e=>({url:`question-type/${e}`}),providesTags:["TypeGroup"]}),updateTypeGroups:e.mutation({query:({chat:e,question_type:t})=>({url:`/chat/updateTypeChat/${e}`,method:"PATCH",body:{question_type:t}}),invalidatesTags:["TypeGroup"]})})}),{useGetTypeQuery:$,useGetTypeByIdQuery:B,useUpdateTypeGroupsMutation:L}=U;var H=r(424);const M=N.r.injectEndpoints({endpoints:e=>({getTime:e.query({query:()=>({url:"time"})}),getTimeById:e.query({query:e=>({url:`time/${e}`}),providesTags:["TimeGroup"]}),updateTimeGroups:e.mutation({query:({chat:e,time:t})=>({url:`/chat/updateTimeChat/${e}`,method:"PATCH",body:{time:t}}),invalidatesTags:["TimeGroup"]})})}),{useGetTimeQuery:V,useGetTimeByIdQuery:z,useUpdateTimeGroupsMutation:W}=M;var K=r(0);function Y({children:e}){return(0,K.jsx)("div",{className:"container divide-y divide-[var(--tg-theme-hint-color)] overflow-hidden min-h-screen rounded-lg bg-[var(--tg-theme-bg-color)]",children:e})}function J({children:e}){return(0,K.jsx)("div",{className:"h-1/6 px-4 py-5",children:e})}function X({children:e}){return(0,K.jsx)("div",{className:"px-4 py-5 overflow-y-auto min-h-max",children:e})}function Z({children:e}){return(0,K.jsx)("div",{className:"h-1/6 px-4 py-4",children:e})}var ee=r(376);function te({children:e,slide:t,close:r}){return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(ee.Transition.Root,{show:t,as:a.Fragment,children:(0,K.jsx)(ee.Dialog,{as:"div",className:"relative z-10",onClose:r,children:(0,K.jsx)("div",{className:"fixed inset-y-0 right-0 flex max-w-full",children:(0,K.jsx)(ee.Transition.Child,{as:a.Fragment,enter:"transform transition ease-in-out duration-500",enterFrom:"translate-x-full opacity-5",enterTo:"translate-x-0 opacity-100",leave:"transform transition ease-in-out duration-100",leaveFrom:"translate-x-0 opacity-100",leaveTo:"translate-x-full opacity-5",children:(0,K.jsx)(ee.Dialog.Panel,{className:"pointer-events-auto relative w-screen",children:e})})})})})})}const re=a.lazy((()=>r.e(916).then(r.t.bind(r,916,23)))),ae=function(){const e=window.Telegram.WebApp,t=(0,s.useDispatch)(),r=I(h),{isLoading:i,isError:n,data:o,isSuccess:d}=(0,N.y)(e.initData,{skip:0!==r});console.log(e);const{data:c,isSuccess:p}=$(""),{data:m,isSuccess:w}=V(""),{data:T,isSuccess:x}=(0,H.useGetCategoryQuery)("");d&&t(u(o.UserData.user.id)),p&&t(v(c)),w&&t(f(m)),x&&t(F(T)),I(g),console.log(I(R.getState));const S=I(y);function j(){console.log("click"),t(l(!0))}return console.log(S),(0,K.jsxs)(a.Suspense,{fallback:null,children:[(0,K.jsxs)(Y,{children:[(0,K.jsx)(J,{children:(0,K.jsx)("p",{onClick:j,children:"Header"})}),(0,K.jsx)(X,{children:(0,K.jsx)(re,{})}),(0,K.jsx)(Z,{children:(0,K.jsx)("p",{children:"Footer"})})]}),(0,K.jsx)(te,{slide:S,close:j,children:(0,K.jsx)("b",{children:"Slide"})})]})};i.C(document.getElementById("root")).render((0,K.jsx)(s.Provider,{store:R,children:(0,K.jsx)(a.StrictMode,{children:(0,K.jsx)(ae,{})})}))},868:(e,t,r)=>{r.d(t,{r:()=>n,y:()=>o});var a=r(392),i=r(280);const s=(0,a.c9)((0,a._)({baseUrl:"https://api80q.ru/viktorinaonlinebot/"}),{maxRetries:5}),n=(0,i.KS)({reducerPath:"vikApi",refetchOnFocus:!0,baseQuery:s,tagTypes:["TypeGroup","TimeGroup","CategoryGroup","Validate","CountAvailableQuestionGroup","CountPublishedQuestionGroup"],endpoints:e=>({validate:e.query({query:e=>({url:`chat/validateUser/${e}`}),providesTags:["Validate"]})})}),{useValidateQuery:o}=n},32:(e,t,r)=>{var a=r(408);t.C=a.createRoot,a.hydrateRoot},488:(e,t,r)=>{var a=r(136),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var a,s={},u=null,d=null;for(a in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:i,type:e,key:u,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},0:(e,t,r)=>{e.exports=r(488)}}]);