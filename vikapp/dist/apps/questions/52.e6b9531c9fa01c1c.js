(self.webpackChunkquestions=self.webpackChunkquestions||[]).push([[52],{52:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var s=n(184),o=n(392),i=n(280);const u=(0,o.c9)((0,o._)({baseUrl:"https://api80q.ru/viktorinaonlinebot/"}),{maxRetries:5}),a=(0,i.KS)({reducerPath:"vikApi",refetchOnFocus:!0,baseQuery:u,tagTypes:["TypeGroup","TimeGroup","CategoryGroup","Validate","CountAvailableQuestionGroup","CountPublishedQuestionGroup"],endpoints:()=>({})}),r=a.injectEndpoints({endpoints:e=>({getQuestionById:e.query({query:e=>({url:`question/findById/${e}`})}),getQuestionByChat:e.query({query:e=>({url:`question/findByChatId/${e}`})}),updateQuestion:e.mutation({query:({id:e,question:t})=>({url:`/question/${e}`,method:"PATCH",body:{question:t}})}),addQuestion:e.mutation({query:e=>({url:"/question",method:"POST",body:e})}),deleteQuestion:e.mutation({query:e=>({url:"/chat-category",method:"DELETE",body:{id:e}})}),countAvailableQuestion:e.query({query:e=>({url:`auto-post/countAvailableQuestionByChatId/${e}`}),providesTags:["CountAvailableQuestionGroup"]}),countPublishedQuestion:e.query({query:e=>({url:`auto-post/countPublishedQuestion/${e}`}),providesTags:["CountAvailableQuestionGroup"]})})}),{useGetQuestionByChatQuery:d,useGetQuestionByIdQuery:l,useAddQuestionMutation:c,useDeleteQuestionMutation:Q,useUpdateQuestionMutation:p,useCountAvailableQuestionQuery:y,useCountPublishedQuestionQuery:h}=r;var g=n(0);const w=({chat:e})=>{const{isLoading:t,isError:n,data:o,isSuccess:i}=d(e);return(0,g.jsxs)(g.Fragment,{children:[t&&(0,g.jsx)(s.Preloader,{}),i&&o.map((e=>(0,g.jsx)("li",{className:"cursor-pointer",children:(0,g.jsx)(s.SimpleAccordionMain,{description:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(s.SimpleAccordionText,{children:(0,g.jsx)("p",{children:e.text})})}),content:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{children:"Удалить"}),(0,g.jsx)("p",{children:"Модерировать"}),(0,g.jsx)("p",{children:"Статистика"})]})})})))]})},q=()=>(0,g.jsx)("ul",{role:"list",className:"mt-4 divide-y divide-[var(--tg-theme-hint-color)]",children:(0,g.jsx)(w,{chat:521884639})});var x=n(640),A=n(796);const m=(0,A.createSlice)({name:"questionApp",initialState:{questionSlide:!1,questionType:"",questionData:void 0,addQuestion:{text:"",category:0,answer1:"",answer2:"",answer3:"",answer4:"",answerright:0}},reducers:{showQuestionSlide:(e,t)=>{e.questionSlide=t.payload},typeQuestion:(e,t)=>{e.questionType=t.payload},dataQuestion:(e,t)=>{e.questionData=t.payload},getQuestionText:(e,t)=>{e.addQuestion.text=t.payload},getQuestionCategory:(e,t)=>{e.addQuestion.category=t.payload},getQuestionAnswerOne:(e,t)=>{e.addQuestion.answer1=t.payload},getQuestionAnswerTwo:(e,t)=>{e.addQuestion.answer2=t.payload},getQuestionAnswerThree:(e,t)=>{e.addQuestion.answer3=t.payload},getQuestionAnswerFour:(e,t)=>{e.addQuestion.answer4=t.payload},getQuestionAnswerright:(e,t)=>{e.addQuestion.answerright=t.payload},getQuestionDefault:(e,t)=>{e.addQuestion.text="",e.addQuestion.category=0,e.addQuestion.answer1="",e.addQuestion.answer2="",e.addQuestion.answer3="",e.addQuestion.answer4="",e.addQuestion.answerright=0}}}),{showQuestionSlide:b,typeQuestion:j,dataQuestion:v,getQuestionText:T,getQuestionCategory:C,getQuestionAnswerOne:S,getQuestionAnswerTwo:P,getQuestionAnswerThree:f,getQuestionAnswerFour:B,getQuestionAnswerright:k,getQuestionDefault:G}=m.actions,D=e=>e.questionApp.questionSlide,F=m.reducer,E=(0,A.configureStore)({reducer:{[a.reducerPath]:a.reducer,questionApp:F},middleware:e=>e().concat(a.middleware)}),I=x.useSelector,$=function(){const e=window.Telegram.WebApp,t=(0,x.useDispatch)(),n=I(D);return n&&(e.BackButton.show(),e.onEvent("backButtonClicked",(()=>{t(b(!1))}))),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(x.Provider,{store:E,children:[(0,g.jsx)(q,{}),(0,g.jsx)(s.SlidePage,{slide:n,children:(0,g.jsx)("p",{children:"Question"})})]})})}}}]);