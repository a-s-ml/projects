(self.webpackChunkquestions=self.webpackChunkquestions||[]).push([[209],{590:(e,t,s)=>{s.r(t);var n=s(136),o=s.n(n),i=s(32),r=s(184),a=s(392),u=s(280);const d=(0,a.c9)((0,a._)({baseUrl:"https://api80q.ru/viktorinaonlinebot/"}),{maxRetries:5}),l=(0,u.KS)({reducerPath:"vikApi",refetchOnFocus:!0,baseQuery:d,tagTypes:["TypeGroup","TimeGroup","CategoryGroup","Validate","CountAvailableQuestionGroup","CountPublishedQuestionGroup"],endpoints:()=>({})}),c=l.injectEndpoints({endpoints:e=>({getQuestionById:e.query({query:e=>({url:`question/findById/${e}`})}),getQuestionByChat:e.query({query:e=>({url:`question/findByChatId/${e}`})}),updateQuestion:e.mutation({query:({id:e,question:t})=>({url:`/question/${e}`,method:"PATCH",body:{question:t}})}),addQuestion:e.mutation({query:e=>({url:"/question",method:"POST",body:e})}),deleteQuestion:e.mutation({query:e=>({url:"/chat-category",method:"DELETE",body:{id:e}})}),countAvailableQuestion:e.query({query:e=>({url:`auto-post/countAvailableQuestionByChatId/${e}`}),providesTags:["CountAvailableQuestionGroup"]}),countPublishedQuestion:e.query({query:e=>({url:`auto-post/countPublishedQuestion/${e}`}),providesTags:["CountAvailableQuestionGroup"]})})}),{useGetQuestionByChatQuery:p,useGetQuestionByIdQuery:h,useAddQuestionMutation:g,useDeleteQuestionMutation:Q,useUpdateQuestionMutation:x,useCountAvailableQuestionQuery:y,useCountPublishedQuestionQuery:m}=c;var j=s(0);const w=({chat:e})=>{const{isLoading:t,isError:s,data:n,isSuccess:o}=p(e);return(0,j.jsxs)(j.Fragment,{children:[t&&(0,j.jsx)(r.Preloader,{}),o&&n.map((e=>(0,j.jsx)("li",{className:"cursor-pointer",children:(0,j.jsx)(r.SimpleAccordionMain,{description:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.SimpleAccordionText,{children:(0,j.jsx)("p",{children:e.text})})}),content:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:"Удалить"}),(0,j.jsx)("p",{children:"Модерировать"}),(0,j.jsx)("p",{children:"Статистика"})]})})})))]})},q=()=>(0,j.jsx)("ul",{role:"list",className:"mt-4 divide-y divide-[var(--tg-theme-hint-color)]",children:(0,j.jsx)(w,{chat:521884639})});var v=s(176);const b=()=>{const e=window.Telegram.WebApp;return(0,j.jsxs)("div",{className:"group flex items-start px-8 pt-8 pb-4 bg-[var(--tg-theme-bg-color)] space-x-3 cursor-pointer",onClick:()=>e.openTelegramLink("https://t.me/ViktorinaOnlineBot?startgroup=add"),children:[(0,j.jsx)(v.c,{className:"h-5 w-5 text-[var(--tg-theme-accent-text-color)] group-hover:text-[var(--tg-theme-text-color)]","aria-hidden":"true"}),(0,j.jsx)("div",{className:"text-sm font-medium text-[var(--tg-theme-accent-text-color)] group-hover:text-[var(--tg-theme-text-color)]",children:(0,j.jsx)("b",{children:"Добавить вопрос"})})]})},A=()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.GlobalHeader,{children:(0,j.jsx)(b,{})}),(0,j.jsx)(r.Page,{children:(0,j.jsxs)(r.MainBlock,{children:[(0,j.jsx)("div",{className:"text-center pt-9"}),(0,j.jsx)(q,{})]})}),(0,j.jsx)(r.GlobalFooter,{children:(0,j.jsx)(r.Feedback,{})})]});var T=s(640),C=s(796);const S=(0,C.createSlice)({name:"questionApp",initialState:{questionSlide:!1,questionType:"",questionData:void 0,addQuestion:{text:"",category:0,answer1:"",answer2:"",answer3:"",answer4:"",answerright:0}},reducers:{showQuestionSlide:(e,t)=>{e.questionSlide=t.payload},typeQuestion:(e,t)=>{e.questionType=t.payload},dataQuestion:(e,t)=>{e.questionData=t.payload},getQuestionText:(e,t)=>{e.addQuestion.text=t.payload},getQuestionCategory:(e,t)=>{e.addQuestion.category=t.payload},getQuestionAnswerOne:(e,t)=>{e.addQuestion.answer1=t.payload},getQuestionAnswerTwo:(e,t)=>{e.addQuestion.answer2=t.payload},getQuestionAnswerThree:(e,t)=>{e.addQuestion.answer3=t.payload},getQuestionAnswerFour:(e,t)=>{e.addQuestion.answer4=t.payload},getQuestionAnswerright:(e,t)=>{e.addQuestion.answerright=t.payload},getQuestionDefault:(e,t)=>{e.addQuestion.text="",e.addQuestion.category=0,e.addQuestion.answer1="",e.addQuestion.answer2="",e.addQuestion.answer3="",e.addQuestion.answer4="",e.addQuestion.answerright=0}}}),{showQuestionSlide:k,typeQuestion:B,dataQuestion:f,getQuestionText:F,getQuestionCategory:P,getQuestionAnswerOne:G,getQuestionAnswerTwo:E,getQuestionAnswerThree:D,getQuestionAnswerFour:I,getQuestionAnswerright:M,getQuestionDefault:N}=S.actions,$=e=>e.questionApp.questionSlide,O=e=>e.questionApp.questionType,L=S.reducer,V=((0,C.configureStore)({reducer:{[l.reducerPath]:l.reducer,questionApp:L},middleware:e=>e().concat(l.middleware)}),T.useSelector),R=l.injectEndpoints({endpoints:e=>({validate:e.query({query:e=>({url:`chat/validateUser/${e}`}),providesTags:["Validate"]})})}),{useValidateQuery:U}=R,H=function(){const e=window.Telegram.WebApp,t=(0,T.useDispatch)(),s=V($);V(O),o().useEffect((()=>{e.expand(),e.ready()}),[]),s&&(e.BackButton.show(),e.onEvent("backButtonClicked",(()=>{t(k(!1))}))),s||e.BackButton.hide();const{data:n,isSuccess:i,isLoading:a}=U(e.initData);return console.log(n),(0,j.jsxs)(j.Fragment,{children:[a&&(0,j.jsx)(r.Preloader,{}),i&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(A,{}),(0,j.jsx)(r.SlidePage,{slide:s,children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:"sgssdg1"}),(0,j.jsx)(q,{}),(0,j.jsx)("p",{children:"sgssdg1"})]})})]})]})};i.C(document.getElementById("root")).render((0,j.jsx)(n.StrictMode,{children:(0,j.jsx)(H,{})}))},32:(e,t,s)=>{var n=s(408);t.C=n.createRoot,n.hydrateRoot}}]);