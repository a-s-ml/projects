(self.webpackChunkchat_room=self.webpackChunkchat_room||[]).push([[423],{423:(a,o,t)=>{t.r(o);var e=t(179),c=t(873),r=t(215),i=t(420),s=t(885);const n=(0,i.L5)((0,i.cw)({baseUrl:"https://api80q.ru:4000/mdws/chats"})),d=(0,s.xP)({reducerPath:"mdwsApi",refetchOnFocus:!0,baseQuery:n,tagTypes:["Validate"],endpoints:()=>({})}),h=d.injectEndpoints({endpoints:a=>({validate:a.query({query:a=>({url:`chat/validateUser/${a}`}),providesTags:["Validate"]}),join:a.mutation({query:({chat:a,user:o})=>({url:"/join",method:"POST",body:{chat:a,user:o}})})})}),{useValidateQuery:l,useJoinMutation:p}=h;var u=t(490),m=t(85);const R=()=>{const[a,{}]=p(),o=a({chat:10,user:3}),t=(0,u.io)("http://api80q.ru:4000/chat",{auth:{token:o},transports:["websocket","polling"]});return(0,e.useEffect)((()=>{t.on("chat_updated",(({data:a})=>{console.log(a)}))}),[]),(0,e.useEffect)((()=>{t.on("exception",(({data:a})=>{console.log(a)}))}),[]),(0,m.jsx)("p",{children:(0,m.jsx)("b",{})})};var y=t(638);const C=(0,y.createSlice)({name:"chatRoomApp",initialState:{chatRoomSlide:!1,chatRoomType:"",chatRoomChat:{isLoading:!1,wsErrors:[],isAdmin:!1,nominationCount:0,participantCount:0},chatRoomData:void 0},reducers:{setChatAccessToken:(a,o)=>{a.chatRoomChat.accessToken=o.payload},initializePoll:(a,o)=>{a.chatRoomChat.poll=o.payload},loadingChat:(a,o)=>{a.chatRoomChat.isLoading=o.payload},showChatRoomSlide:(a,o)=>{a.chatRoomSlide=o.payload},typeChatRoom:(a,o)=>{a.chatRoomType=o.payload},dataChatRoom:(a,o)=>{a.chatRoomData=o.payload}}}),{showChatRoomSlide:g,typeChatRoom:w,dataChatRoom:j,initializePoll:k,loadingChat:v,setChatAccessToken:S}=C.actions,f=C.reducer,x=(0,y.configureStore)({reducer:{[d.reducerPath]:d.reducer,chatRoomApp:f},middleware:a=>a().concat(d.middleware)}),T=()=>(0,m.jsx)(r.Provider,{store:x,children:(0,m.jsx)(R,{})});c.H(document.getElementById("root")).render((0,m.jsx)(e.StrictMode,{children:(0,m.jsx)(T,{})}))},873:(a,o,t)=>{var e=t(67);o.H=e.createRoot,e.hydrateRoot}}]);