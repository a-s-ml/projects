(self.webpackChunkchat_room=self.webpackChunkchat_room||[]).push([[100],{719:(a,o,t)=>{t.r(o),t.d(o,{default:()=>b});var e=t(215),c=t(420),i=t(885);const s=(0,c.L5)((0,c.cw)({baseUrl:"https://api80q.ru/mdws/chats"})),r=(0,i.xP)({reducerPath:"mdwsApi",refetchOnFocus:!0,baseQuery:s,tagTypes:["Validate"],endpoints:()=>({})}),n=r.injectEndpoints({endpoints:a=>({validate:a.query({query:a=>({url:`chat/validateUser/${a}`}),providesTags:["Validate"]}),join:a.mutation({query:({chat:a,user:o})=>({url:"/join",method:"POST",body:{chat:a,user:o}})})})}),{useValidateQuery:d,useJoinMutation:h}=n;var l=t(179),p=t(490),u=t(85);const m=()=>{const[a,{}]=h(),o=a({chat:10,user:3}),t=(0,p.io)("https://api80q.ru/chat",{auth:{token:o},transports:["websocket","polling"]});return(0,l.useEffect)((()=>{t.on("chat_updated",(({data:a})=>{console.log(a)}))}),[]),(0,l.useEffect)((()=>{t.on("exception",(({data:a})=>{console.log(a)}))}),[]),(0,u.jsx)("p",{children:(0,u.jsx)("b",{})})};var C=t(638);const R=(0,C.createSlice)({name:"chatRoomApp",initialState:{chatRoomSlide:!1,chatRoomType:"",chatRoomChat:{isLoading:!1,wsErrors:[],isAdmin:!1,nominationCount:0,participantCount:0},chatRoomData:void 0},reducers:{setChatAccessToken:(a,o)=>{a.chatRoomChat.accessToken=o.payload},initializePoll:(a,o)=>{a.chatRoomChat.poll=o.payload},loadingChat:(a,o)=>{a.chatRoomChat.isLoading=o.payload},showChatRoomSlide:(a,o)=>{a.chatRoomSlide=o.payload},typeChatRoom:(a,o)=>{a.chatRoomType=o.payload},dataChatRoom:(a,o)=>{a.chatRoomData=o.payload}}}),{showChatRoomSlide:y,typeChatRoom:w,dataChatRoom:g,initializePoll:f,loadingChat:k,setChatAccessToken:v}=R.actions,S=R.reducer,T=(0,C.configureStore)({reducer:{[r.reducerPath]:r.reducer,chatRoomApp:S},middleware:a=>a().concat(r.middleware)}),b=()=>(0,u.jsx)(e.Provider,{store:T,children:(0,u.jsx)(m,{})})}}]);