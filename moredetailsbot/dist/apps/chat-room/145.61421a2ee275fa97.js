(self.webpackChunkchat_room=self.webpackChunkchat_room||[]).push([[145],{145:(o,a,t)=>{t.r(a);var e=t(179),c=t(215),i=t(873),r=t(420),n=t(885);const s=(0,r.L5)((0,r.cw)({baseUrl:"https://api80q.ru:4000/mdws/chats"})),d=(0,n.xP)({reducerPath:"mdwsApi",refetchOnFocus:!0,baseQuery:s,tagTypes:["Validate"],endpoints:()=>({})}),h=d.injectEndpoints({endpoints:o=>({validate:o.query({query:o=>({url:`chat/validateUser/${o}`}),providesTags:["Validate"]}),join:o.mutation({query:({chat:o,user:a})=>({url:"/join",method:"POST",body:{chat:o,user:a}})})})}),{useValidateQuery:l,useJoinMutation:u}=h;var p=t(490),m=t(85);const R=function(){const[o,{}]=u(),a=o({chat:10,user:3}),t=(0,p.io)("http://api80q.ru:4000/chat",{auth:{token:a},transports:["websocket","polling"]});return(0,e.useEffect)((()=>{t.on("chat_updated",(({data:o})=>{console.log(o)}))}),[]),(0,e.useEffect)((()=>{t.on("exception",(({data:o})=>{console.log(o)}))}),[]),(0,m.jsx)("p",{children:(0,m.jsx)("b",{})})};var y=t(638);const C=(0,y.createSlice)({name:"chatRoomApp",initialState:{chatRoomSlide:!1,chatRoomType:"",chatRoomChat:{isLoading:!1,wsErrors:[],isAdmin:!1,nominationCount:0,participantCount:0},chatRoomData:void 0},reducers:{setChatAccessToken:(o,a)=>{o.chatRoomChat.accessToken=a.payload},initializePoll:(o,a)=>{o.chatRoomChat.poll=a.payload},loadingChat:(o,a)=>{o.chatRoomChat.isLoading=a.payload},showChatRoomSlide:(o,a)=>{o.chatRoomSlide=a.payload},typeChatRoom:(o,a)=>{o.chatRoomType=a.payload},dataChatRoom:(o,a)=>{o.chatRoomData=a.payload}}}),{showChatRoomSlide:g,typeChatRoom:w,dataChatRoom:f,initializePoll:k,loadingChat:v,setChatAccessToken:S}=C.actions,j=C.reducer,T=(0,y.configureStore)({reducer:{[d.reducerPath]:d.reducer,chatRoomApp:j},middleware:o=>o().concat(d.middleware)});i.H(document.getElementById("root")).render((0,m.jsx)(c.Provider,{store:T,children:(0,m.jsx)(e.StrictMode,{children:(0,m.jsx)(R,{})})}))},873:(o,a,t)=>{var e=t(67);a.H=e.createRoot,e.hydrateRoot}}]);